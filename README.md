# PTStart-devops_bot
## Описание
Это проект телеграм-бота с базой данных и репликацией базы данных. Данный бот выполнен в рамках обучения PTStart.
Функционал бота:
* Сбор метрик с удаленной машины.
* Поиск в тексте и запись в БД номеров телефонов и почт
* Вывод логов репликации
* Проверка сложности пароля

## Запуск бота с помощью Docker

1. Склонируйте репозиторий себе на машину `git clone https://github.com/Mask1tt/PTStart-devops_bot.git -b docker`
2. В директории с ботом, создайте файл `.env` и внесите туда свои данные по шаблону:
   ```
    TOKEN = токен телеграм бота
    HOST_BOT = желаемый адрес для контейнера с ботом
    HOST = вдрес удаленной машины для снятия метрик (Важно! на ней же должен находиться контейнер с БД)
    PORT = порт для подключения к удаленнйо машине
    USER = пользватель для подключения к удаленной машине (Важно! проверьте что пользователь имеет группу(ы) docker и/или root)
    PASSWORD = пароль от пользователя для подклбючения к удалнной машине
    USER_DB = имя пользователя для подключения к базе данных
    PASSWORD_DB = пароль для подключения к базе данных
    HOST_DB = желаемый адресс контейнера с базой данных
    PORT_DB = порт для подключения к базе данных
    DATABASE_DB = название базы данных
    POSTGRES_PASSWORD = пароль от базы данных
    DB_REPL_USER = repl_user # не изменять
    DB_REPL_PASSWORD = Qq12345 # не изменять
    DB_REPL_HOST = желаемый адрес контейнера с репликацией базы данных
    DB_REPL_PORT = порт для подключения к репликации базы данных
    SUBNET = подсеть контейнеров( в формате: xxx.xxx.xxx.xxx/xx )
   ```
3. В директории с файлом `docker-compose.yaml` введите команду ` docker compose up --build `
4. Поздравляю, бот запущен и готов к работе.

P.S бот делался полностью с нуля, было вложено много сил и времени)
